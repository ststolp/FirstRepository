#include "ship.h"
#include <cmath>
#include "uiDraw.h"
// Put your ship methods here
int Ship :: angle = 60;

/************************************************
 * Function: Ship
 * Description: Constructor makes ship alive and sets position
 * in the middle.
 ************************************************/
Ship :: Ship()
{
   FlyingObject::setPoint(0, 0);
}

/***************************************************
 * Function: Ship
 * Description: Ship constructor that has a given coordinate.
 ************************************************/
Ship :: Ship(int x, int y)
{
   FlyingObject::setPoint(x, y);
}

/*******************************************************
 * Function: moveLeft:
 * Description: Rotate ship to the left.
 ****************************************************/
void Ship :: moveLeft()
{
   setAngle(getAngle() + ROTATE_AMOUNT);
}

/****************************************************
 * Function: moveRight
 * Descripion: Rotate ship to the right.
 *********************************************************/
void Ship :: moveRight()
{
   setAngle(getAngle() - ROTATE_AMOUNT);
}

/********************************************************
 * Function: moveForeward:
 * Description: Reset velocity to the current angle.
 ********************************************************/
void Ship :: moveForeward()
{
   velocity.setDx(THRUST_AMOUNT *
                  (-cos(M_PI / 180.0 * getAngle())));
   velocity.setDy(THRUST_AMOUNT *
                  (sin(M_PI / 180.0 * getAngle())));
   FlyingObject::setVelocity(getVelocity());
}

/*********************************************************
 * Destroy ship.
 *******************************************************/
Ship :: ~Ship()
{
}

/***************************************************************
 * Draw ship.
 ***********************************************************/
void Ship :: draw()
{
   drawShip(FlyingObject::getPoint(), getAngle());
}

/*************************************************************
 * Advance ship. Makes sure it stays on the screen by changing
 * coordinate to stay on screen.
 ***************************************************************/
void Ship :: advance()
{
   if (FlyingObject::getPoint().getX() > 200)
      FlyingObject::setPoint(-200, FlyingObject::getPoint().getY());
   if (FlyingObject::getPoint().getX() < -200)
      FlyingObject::setPoint(200, FlyingObject::getPoint().getY());
   if (FlyingObject::getPoint().getY() > 200)
      FlyingObject::setPoint(FlyingObject::getPoint().getX(), -200);
   if (FlyingObject::getPoint().getY() < -200)
      FlyingObject::setPoint(FlyingObject::getPoint().getX(), 200);
   FlyingObject::advance();
}
